
#include <stdio.h>
#include <string.h>
#include <stdlib.h> 

// Define the structure for an expense
struct Expense {
    char item_description[50];
    float amount;
};

// Global variables to manage expenses in memory
struct Expense expense_list[100]; 
int expense_count = 0;         

// Function prototypes
int login();
void mainMenu();
void addExpense();
void viewTotalExpenses();

int main() {
    if (login()) {
        printf("\nLogin successful. Welcome!\n");
        mainMenu();
    } else {
        printf("\nAccess Denied. Exiting program.\n");
    }
    return 0;
}

// --- Login Module (In-Memory Check) ---
int login() {
    char input_user[20];
    char input_pass[20];
    // Storing credentials directly in char arrays
    char correct_user[] = "user";
    char correct_pass[] = "pass";

    printf("--- Login ---\n");
    printf("Enter username (%s): ", correct_user);
    scanf("%s", input_user);
    printf("Enter password (%s): ", correct_pass);
    scanf("%s", input_pass);

    // Use strcmp for string comparison
    if (strcmp(input_user, correct_user) == 0 && strcmp(input_pass, correct_pass) == 0) {
        return 1; // Success
    } else {
        return 0; // Failure
    }
}

// --- Main Module (Data Handled In-Memory) ---
void mainMenu() {
    int choice;
    while (1) {
        printf("\n--- Main Menu ---\n");
        printf("1. Add a new expense\n");
        printf("2. View total expenses\n");
        printf("3. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1:
                addExpense();
                break;
            case 2:
                viewTotalExpenses();
                break;
            case 3:
               
                printf("Goodbye!\n");
                exit(0);
            default:
                printf("Invalid choice. Please try again.\n");
        }
    }
}

void addExpense() {
    if (expense_count >= 100) {
        printf("Expense list is full!\n");
        return;
    }

    printf("\n--- Add Expense ---\n");
    printf("Enter item description (no spaces): ");
    scanf("%s", expense_list[expense_count].item_description);
    printf("Enter amount: ");
    scanf("%f", &expense_list[expense_count].amount);

    expense_count++;
    printf("Expense added successfully in memory!\n");
}

void viewTotalExpenses() {
    float total = 0.0;
    int i;

    // Loop through the stored expenses and sum the amounts
    for (i = 0; i < expense_count; i++) {
        total += expense_list[i].amount;
    }

    printf("\n--- Summary ---\n");
    printf("Total expenses recorded in this session: $%.2f\n", total);
    
}



